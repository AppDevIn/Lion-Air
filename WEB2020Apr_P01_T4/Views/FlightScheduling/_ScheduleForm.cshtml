@model WEB2020Apr_P01_T4.Models.FlightSchedule

@{

    bool disable = Model.ScheduleID != 0;
    bool isEdit = false;

    var cssClass = "";
    var type = "datetime-local";
    String action = "SaveSchedule";
    if (disable)
    {
        cssClass = "disabled";
        action = "UpdateSchedule";
        type = "";

    }
}

<div class="bg-Flight-modal">
    <div class="modal-contents">


        @if (Model.DepartureDateTime != null)
        {
            @Html.ActionLink("+", "Schedule", "FlightScheduling", new { }, new { @class = "close close-Flight" })
            isEdit = true;
        }
        else
        {
            @Html.ActionLink("+", "Index", "FlightScheduling", new { }, new { @class = "close close-Flight" })
        }


        <h1>Create New Flight Schedule</h1>
        @using (@Html.BeginForm(action, "FlightScheduling", new { @id = Model.RouteID, @isEdit = isEdit }, FormMethod.Post))
        {
            <div class="form-group">
                @Html.LabelFor(m => m.FlightNumber)
                @Html.TextBoxFor(m => m.FlightNumber, new { @class = "form-control " + cssClass })
                @Html.ValidationMessageFor(m => m.FlightNumber)
            </div>

            <div class="form-group">
                @Html.LabelFor(m => m.DepartureDateTime)
                @Html.EditorFor(m => m.DepartureDateTime, new { htmlAttributes = new { @id= "datetimepicker", @class = "form-control " + cssClass, @type = type } })
                @Html.ValidationMessageFor(m => m.DepartureDateTime)
            </div>

            <div class="form-group">
                @Html.LabelFor(m => m.EconomyClassPrice)
                @Html.EditorFor(m => m.EconomyClassPrice, new { htmlAttributes = new { @class = "form-control " + cssClass } })
                @Html.ValidationMessageFor(m => m.EconomyClassPrice)
            </div>

            <div class="form-group">
                @Html.LabelFor(m => m.BusinessClassPrice)
                @Html.EditorFor(m => m.BusinessClassPrice, new { htmlAttributes = new { @class = "form-control " + cssClass } })
                @Html.ValidationMessageFor(m => m.BusinessClassPrice)
            </div>

            <div class="form-group">
                @Html.LabelFor(m => m.RouteID)
                @Html.TextBoxFor(m => m.RouteID, new { @class = "form-control disabled" })
                @Html.ValidationMessageFor(m => m.RouteID)
            </div>

            <div class="form-group">
                @Html.LabelFor(m => m.Status)
                @Html.DropDownListFor(m => m.Status, new SelectList(Model.GetStatusOption()), new { @class = "form-control" })
            </div>


            @Html.HiddenFor(m => m.ScheduleID)



            <button type="submit" class="btn btn-primary">Submit</button>
        }



    </div>
</div>


<script type="text/javascript">/* ... */
    $(function () {
        $('#datetimepicker').datetimepicker({
            language: 'pt-BR'
        });
    });


    }
    });</script>



<script src="~/wwwroot/lib/jquery-validation/dist/jquery.validate.js"></script>
<script src="~/wwwroot/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"></script>